<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>SÃ¼per Lig Fantasy</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%;background:#0e1621;color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI}
#app{display:flex;flex-direction:column;height:100%}

.topbar{
  height:56px;background:#17212b;
  display:flex;justify-content:space-between;
  align-items:center;padding:0 12px
}
.user{display:flex;align-items:center;gap:8px;cursor:pointer}
.user img{width:36px;height:36px;border-radius:50%;border:2px solid #2ea6ff}
.coins{font-weight:700}

.content{flex:1;overflow-y:auto;padding:12px}
.page{display:none}
.page.active{display:block}

.nav{
  height:64px;background:#17212b;
  display:flex;border-top:1px solid #222
}
.nav button{
  flex:1;background:none;border:none;color:#aaa;
  font-size:11px;display:flex;flex-direction:column;
  align-items:center;justify-content:center
}
.nav button.active{color:#2ea6ff}

.card-grid{
  display:grid;grid-template-columns:repeat(2,1fr);gap:10px
}
.card{
  background:#17212b;border-radius:12px;
  padding:10px;border:2px solid #444;font-size:13px
}
.card.legendary{border-color:gold}
.card.epic{border-color:#b26cff}
.card.rare{border-color:#4fa3ff}
.card.common{border-color:#999}

.team-grid{
  display:grid;grid-template-columns:repeat(3,1fr);gap:8px
}
.slot{
  background:#17212b;border-radius:10px;
  padding:12px;text-align:center;font-size:12px
}

.pack-btn{
  width:100%;padding:12px;margin-top:8px;
  border-radius:10px;border:none;
  background:#2ea6ff;color:#fff;font-weight:700
}

.avatars img{
  width:48px;height:48px;border-radius:50%;
  margin:6px;border:2px solid transparent;cursor:pointer
}
.avatars img.selected{border-color:#2ea6ff}
</style>
</head>

<body>
<div id="app">

<!-- TOP BAR -->
<div class="topbar">
  <div class="user" onclick="openPage('avatar')">
    <img id="avatar" src="gs.png">
    <span id="username">Oyuncu</span>
  </div>
  <div class="coins">ğŸª™ <span id="coin">-</span></div>
</div>

<!-- CONTENT -->
<div class="content">

<div id="cards" class="page active">
  <h3>ğŸƒ KartlarÄ±m</h3>
  <div class="card-grid" id="cardGrid"></div>
</div>

<div id="team" class="page">
  <h3>âš½ TakÄ±mÄ±m</h3>
  <div class="team-grid">
    <div class="slot">GK</div>
    <div class="slot">DEF</div>
    <div class="slot">MID</div>
    <div class="slot">MID</div>
    <div class="slot">FW</div>
  </div>
</div>

<div id="tournament" class="page">
  <h3>ğŸ† Turnuvalar</h3>
  <button class="pack-btn" onclick="openPack()">ğŸ´ Paket AÃ§ (1000)</button>
</div>

<div id="avatar" class="page">
  <h3>TakÄ±m Logosu SeÃ§</h3>
  <div class="avatars">
    <img src="gs.png" onclick="selectAvatar(this)">
    <img src="fb.png" onclick="selectAvatar(this)">
    <img src="bjk.png" onclick="selectAvatar(this)">
    <img src="ts.png" onclick="selectAvatar(this)">
    <img src="bs.png" onclick="selectAvatar(this)">
  </div>
</div>

</div>

<!-- NAV -->
<div class="nav">
  <button class="active" onclick="openPage('cards',this)">ğŸƒ<span>Kartlar</span></button>
  <button onclick="openPage('team',this)">âš½<span>TakÄ±m</span></button>
  <button onclick="openPage('tournament',this)">ğŸ†<span>Paket</span></button>
</div>

</div>

<script>
const tg = window.Telegram.WebApp;
tg.ready(); tg.expand();

document.getElementById("username").innerText =
  tg.initDataUnsafe.user?.first_name || "Oyuncu";

function openPage(id,btn){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  document.querySelectorAll(".nav button").forEach(b=>b.classList.remove("active"));
  if(btn)btn.classList.add("active");
}

function openPack(){
  tg.sendData(JSON.stringify({action:"open_pack"}));
  tg.showAlert("ğŸ´ Paket aÃ§Ä±ldÄ±! Kart Telegramâ€™dan gelecek.");
}

function selectAvatar(img){
  document.getElementById("avatar").src=img.src;
  document.querySelectorAll(".avatars img").forEach(i=>i.classList.remove("selected"));
  img.classList.add("selected");

  tg.sendData(JSON.stringify({
    action:"set_avatar",
    avatar:img.src.split("/").pop()
  }));

  openPage("cards");
}
</script>

</body>
</html>
