<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>SÃ¼per Lig Fantasy</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
*{box-sizing:border-box;margin:0;padding:0}
html,body{
  height:100%;
  background:#0e1621;
  color:#fff;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto
}
#app{display:flex;flex-direction:column;height:100%}

/* TOP BAR */
.topbar{
  height:56px;
  background:#17212b;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0 12px;
}
.user{display:flex;align-items:center;gap:8px;cursor:pointer}
.user img{width:36px;height:36px;border-radius:50%;border:2px solid #2ea6ff}
.coins{font-weight:700}

/* CONTENT */
.content{flex:1;overflow-y:auto;padding:12px}
.page{display:none}
.page.active{display:block}

/* BOTTOM NAV */
.nav{
  height:64px;
  display:flex;
  background:#17212b;
  border-top:1px solid #222
}
.nav button{
  flex:1;
  background:none;
  border:none;
  color:#aaa;
  font-size:11px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center
}
.nav button.active{color:#2ea6ff}

/* CARDS */
.card-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px
}
.card{
  background:#17212b;
  border-radius:12px;
  padding:10px;
  border:2px solid #444
}
.card.legendary{border-color:gold}
.card.epic{border-color:#b26cff}
.card.rare{border-color:#4fa3ff}
.card.common{border-color:#999}

/* TEAM */
.team-grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:8px
}
.slot{
  background:#17212b;
  border-radius:10px;
  padding:12px;
  text-align:center;
  font-size:12px
}

/* LIST */
.list{
  background:#17212b;
  border-radius:10px;
  padding:10px;
  margin-bottom:8px;
  display:flex;
  justify-content:space-between
}

/* AVATAR */
.avatars img{
  width:48px;
  height:48px;
  border-radius:50%;
  margin:6px;
  border:2px solid transparent;
  cursor:pointer
}
.avatars img.selected{border-color:#2ea6ff}

.pack-btn{
  background:#2ea6ff;
  border:none;
  width:100%;
  padding:12px;
  border-radius:10px;
  margin-top:8px;
  font-weight:700;
  color:#fff
}
</style>
</head>

<body>
<div id="app">

<!-- TOP -->
<div class="topbar">
  <div class="user" onclick="openPage('avatar')">
    <img id="avatar" src="gs.png">
    <span id="username">Oyuncu</span>
  </div>
  <div class="coins">ğŸª™ <span id="coin">1000</span></div>
</div>

<!-- CONTENT -->
<div class="content">

<div id="cards" class="page active">
  <h3>ğŸƒ KartlarÄ±m</h3>
  <div class="card-grid" id="cardGrid"></div>
</div>

<div id="team" class="page">
  <h3>âš½ TakÄ±mÄ±m</h3>
  <div class="team-grid">
    <div class="slot">GK</div>
    <div class="slot">DEF</div>
    <div class="slot">DEF</div>
    <div class="slot">MID</div>
    <div class="slot">MID</div>
    <div class="slot">ST</div>
  </div>
</div>

<div id="market" class="page">
  <h3>ğŸ›’ Pazar</h3>
  <div class="list">ğŸŒŸ Icardi <span>15000 ğŸª™</span></div>
  <div class="list">ğŸ’ Tadic <span>9000 ğŸª™</span></div>
</div>

<div id="tournament" class="page">
  <h3>ğŸ† Turnuvalar</h3>
  <div class="list">GÃ¼nlÃ¼k Lig <span>Rare Paket</span></div>
  <div class="list">HaftalÄ±k Lig <span>Legendary</span></div>

  <button class="pack-btn" onclick="openPack('common')">âšª Common Paket</button>
  <button class="pack-btn" onclick="openPack('rare')">â­ Rare Paket</button>
  <button class="pack-btn" onclick="openPack('epic')">ğŸ’ Epic Paket</button>
  <button class="pack-btn" onclick="openPack('legendary')">ğŸŒŸ Legendary Paket</button>
</div>

<div id="ranking" class="page">
  <h3>ğŸ“Š SÄ±ralama</h3>
  <div class="list">#1 Edanur â­ 3200</div>
  <div class="list">#2 Ahmet â­ 3100</div>
</div>

<div id="balance" class="page">
  <h3>ğŸ’° Bakiyem</h3>
  <div class="list">Coin <span id="coin2">1000</span></div>
  <div class="list">Toplam Kart <span id="cardCount">0</span></div>
</div>

<div id="avatar" class="page">
  <h3>TakÄ±m Logosu SeÃ§</h3>
  <div class="avatars">
    <img src="gs.png" onclick="selectAvatar(this)">
    <img src="fb.png" onclick="selectAvatar(this)">
    <img src="bjk.png" onclick="selectAvatar(this)">
    <img src="ts.png" onclick="selectAvatar(this)">
    <img src="bs.png" onclick="selectAvatar(this)">
  </div>
</div>

</div>

<!-- NAV -->
<div class="nav">
  <button class="active" onclick="openPage('cards',this)">ğŸƒ<span>Kartlar</span></button>
  <button onclick="openPage('team',this)">âš½<span>TakÄ±m</span></button>
  <button onclick="openPage('market',this)">ğŸ›’<span>Pazar</span></button>
  <button onclick="openPage('tournament',this)">ğŸ†<span>Turnuva</span></button>
  <button onclick="openPage('ranking',this)">ğŸ“Š<span>SÄ±ra</span></button>
</div>

</div>

<script>
const tg = window.Telegram.WebApp;
tg.ready(); tg.expand();

document.getElementById("username").innerText =
  tg.initDataUnsafe.user?.first_name || "Oyuncu";

let coins=1000;
let cards=[];

function openPage(id,btn){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  document.querySelectorAll(".nav button").forEach(b=>b.classList.remove("active"));
  if(btn)btn.classList.add("active");
}

function selectAvatar(img){
  document.getElementById("avatar").src=img.src;
  document.querySelectorAll(".avatars img").forEach(i=>i.classList.remove("selected"));
  img.classList.add("selected");
  openPage("cards");
}

function openPack(type){
  tg.sendData(JSON.stringify({action:"open_pack",pack:type}));
  addDemoCard();
}

function addDemoCard(){
  const card={name:"Demo Oyuncu",ovr:80,rarity:"common"};
  cards.push(card);
  coins-=1000;
  updateUI();
}

function updateUI(){
  document.getElementById("coin").innerText=coins;
  document.getElementById("coin2").innerText=coins;
  document.getElementById("cardCount").innerText=cards.length;

  const grid=document.getElementById("cardGrid");
  grid.innerHTML="";
  cards.forEach(c=>{
    const d=document.createElement("div");
    d.className=`card ${c.rarity}`;
    d.innerHTML=`${c.name}<br>OVR ${c.ovr}`;
    grid.appendChild(d);
  });
}
</script>
</body>
</html>

